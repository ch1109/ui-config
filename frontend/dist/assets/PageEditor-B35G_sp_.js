import{q as re,r as h,c as W,b as i,j as r,F as j,d as e,k as w,p as te,t as M,f as q,m as P,s as de,o as le,x as K,i as L,v as O,l as x,h as H,e as J,g as ce,y as ue,z as ve,a as V,u as pe,A as se,M as ne,E as ge}from"./index-Dp0wXQeI.js";import{_ as Q,p as G,c as fe}from"./_plugin-vue_export-helper-DINGzuyA.js";const me=re("uiConfig",()=>{const u=h({page_id:"",name:{"zh-CN":"",en:""},description:{"zh-CN":"",en:""},button_list:[],optional_actions:[],ai_context:{behavior_rules:"",page_goal:""}}),B=h(null),c=h(!1),m=h(null),s=h(null),g=W(()=>c.value);function f(l){Object.assign(u.value,l),c.value=!0}function y(l){return c.value?{conflict:!0}:(b(l),{conflict:!1})}function A(l){b(l),c.value=!1}function b(l){l.page_name&&(u.value.name={"zh-CN":l.page_name["zh-CN"]||"",en:l.page_name.en||""}),l.page_description&&(u.value.description={"zh-CN":l.page_description["zh-CN"]||"",en:l.page_description.en||""}),l.button_list&&(u.value.button_list=l.button_list),l.optional_actions&&(u.value.optional_actions=l.optional_actions),l.ai_context&&(u.value.ai_context=l.ai_context)}function I(){}function C(){u.value={page_id:"",name:{"zh-CN":"",en:""},description:{"zh-CN":"",en:""},button_list:[],optional_actions:[],ai_context:{behavior_rules:"",page_goal:""}},B.value=null,c.value=!1,m.value=null}function a(l){B.value=JSON.parse(JSON.stringify(l)),u.value=JSON.parse(JSON.stringify(l)),c.value=!1}function n(l){m.value=l}function d(l,z="success",N=3e3){s.value={message:l,type:z},setTimeout(()=>{s.value=null},N)}return{draftConfig:u,originalConfig:B,isDirty:c,currentSession:m,toast:s,hasChanges:g,applyUserEdit:f,tryApplyAiUpdate:y,forceApplyAiUpdate:A,keepUserEdit:I,resetConfig:C,setOriginalConfig:a,setCurrentSession:n,showToast:d}}),he=["src"],_e={class:"overlay"},be={class:"btn-action"},ye=["disabled"],ke={key:1,class:"upload-progress"},we={class:"progress-ring"},Ce={viewBox:"0 0 100 100"},xe=["stroke-dasharray"],$e={class:"percent"},Ae={key:2,class:"upload-placeholder"},Me=["disabled"],Ie={__name:"ImageUploader",props:{modelValue:String,disabled:Boolean},emits:["update:modelValue","upload-success","upload-error"],setup(u,{emit:B}){const c=u,m=B,s=h(!1),g=h(!1),f=h(0),y=()=>{c.disabled||(s.value=!0)},A=()=>{s.value=!1},b=n=>{if(s.value=!1,c.disabled||g.value)return;const d=n.dataTransfer.files;d.length>0&&C(d[0])},I=async n=>{const d=n.target,l=d.files;try{l&&l.length>0&&await C(l[0])}finally{d.value=""}},C=async n=>{var z,N,T;if(!n)return;if(!["image/png","image/jpeg","image/jpg"].includes(n.type)){m("upload-error",{code:"INVALID_FILE_TYPE",message:"ä»…æ”¯æŒ PNGã€JPG æ ¼å¼çš„å›¾ç‰‡"});return}const l=10*1024*1024;if(n.size>l){m("upload-error",{code:"FILE_TOO_LARGE",message:"å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 10MB"});return}g.value=!0,f.value=0;try{const $=await G.uploadImage(n,E=>{f.value=E});m("update:modelValue",$.file_url),m("upload-success",$)}catch($){console.error("Upload error:",$);let E="ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•",R="UPLOAD_FAILED";$.code==="UPLOAD_FAILED"||$.name==="NotReadableError"?(E=$.message,R="FILE_READ_ERROR"):(z=$.message)!=null&&z.includes("Network Error")||$.code==="ERR_NETWORK"?(E="ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ",R="NETWORK_ERROR"):(T=(N=$.response)==null?void 0:N.data)!=null&&T.message?(E=$.response.data.message,R=$.response.data.error||"SERVER_ERROR"):$.message&&(E=$.message),m("upload-error",{code:R,message:E})}finally{g.value=!1}},a=()=>{m("update:modelValue",null)};return(n,d)=>(r(),i("div",{class:P(["image-uploader",{"is-dragover":s.value,"has-image":u.modelValue,"is-disabled":u.disabled||g.value}]),onDragover:te(y,["prevent"]),onDragleave:A,onDrop:te(b,["prevent"])},[u.modelValue?(r(),i(j,{key:0},[e("img",{src:u.modelValue,alt:"é¡µé¢æˆªå›¾",class:"preview-image"},null,8,he),e("div",_e,[e("label",be,[e("input",{type:"file",accept:"image/png,image/jpeg,.png,.jpg,.jpeg",disabled:u.disabled||g.value,onChange:I,class:"hidden-input"},null,40,ye),d[0]||(d[0]=e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"})],-1)),d[1]||(d[1]=w(" æ›´æ¢ ",-1))]),e("button",{class:"btn-action danger",type:"button",onClick:te(a,["stop"])},[...d[2]||(d[2]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})],-1),w(" ç§»é™¤ ",-1)])])])],64)):g.value?(r(),i("div",ke,[e("div",we,[(r(),i("svg",Ce,[d[3]||(d[3]=e("circle",{class:"bg",cx:"50",cy:"50",r:"45"},null,-1)),e("circle",{class:"progress",cx:"50",cy:"50",r:"45","stroke-dasharray":`${f.value*283} 283`},null,8,xe)])),e("span",$e,M(Math.round(f.value*100))+"%",1)]),d[4]||(d[4]=e("p",null,"ä¸Šä¼ ä¸­...",-1))])):(r(),i("label",Ae,[e("input",{type:"file",accept:"image/png,image/jpeg,.png,.jpg,.jpeg",disabled:u.disabled||g.value,onChange:I,class:"hidden-input"},null,40,Me),d[5]||(d[5]=q('<div class="upload-icon" data-v-19b181e8><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-19b181e8><path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-19b181e8></path></svg></div><p class="upload-text" data-v-19b181e8>æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„</p><p class="upload-hint" data-v-19b181e8>æˆ–ç‚¹å‡»ä¸Šä¼ </p><p class="upload-formats" data-v-19b181e8>æ”¯æŒ PNG, JPG (æœ€å¤§ 10MB)</p>',4))]))],34))}},Ve=Q(Ie,[["__scopeId","data-v-19b181e8"]]),Be={class:"config-editor"},Ue={class:"section"},ze={class:"form-grid"},Ne={class:"form-field full-width"},Ee={class:"form-field"},De={key:0,class:"field-hint error"},Se={class:"form-field"},Le={key:0,class:"field-hint error"},Oe={class:"form-field full-width"},Re={class:"form-field full-width"},je={class:"section"},Pe={class:"form-field"},Te={class:"list-editor"},He=["onUpdate:modelValue"],qe=["onClick"],Fe={key:0,class:"field-hint error"},Je={class:"form-field"},Ge={class:"list-editor"},Ke=["onUpdate:modelValue"],We=["onClick"],Qe={class:"section"},Ye={class:"form-grid"},Ze={class:"form-field full-width"},Xe={class:"form-field full-width"},et={__name:"ConfigEditor",props:{config:{type:Object,required:!0},sessionId:String,errors:{type:Object,default:()=>({})}},emits:["config-changed"],setup(u,{emit:B}){const c=u,m=B,s=de({page_id:"",name:{"zh-CN":"",en:""},description:{"zh-CN":"",en:""},button_list:[""],optional_actions:[],ai_context:{behavior_rules:"",page_goal:""}});le(()=>{g()}),K(()=>c.config,()=>{g()},{deep:!0});const g=()=>{var C,a,n,d,l,z,N;c.config&&(s.page_id=c.config.page_id||"",s.name={"zh-CN":((C=c.config.name)==null?void 0:C["zh-CN"])||"",en:((a=c.config.name)==null?void 0:a.en)||""},s.description={"zh-CN":((n=c.config.description)==null?void 0:n["zh-CN"])||"",en:((d=c.config.description)==null?void 0:d.en)||""},s.button_list=(l=c.config.button_list)!=null&&l.length?[...c.config.button_list]:[""],s.optional_actions=c.config.optional_actions?[...c.config.optional_actions]:[],s.ai_context={behavior_rules:((z=c.config.ai_context)==null?void 0:z.behavior_rules)||"",page_goal:((N=c.config.ai_context)==null?void 0:N.page_goal)||""})},f=()=>{m("config-changed",{page_id:s.page_id,name:{...s.name},description:{...s.description},button_list:[...s.button_list],optional_actions:[...s.optional_actions],ai_context:{...s.ai_context}})},y=()=>{s.button_list.push(""),f()},A=C=>{s.button_list.length<=1||(s.button_list.splice(C,1),f())},b=()=>{s.optional_actions.push(""),f()},I=C=>{s.optional_actions.splice(C,1),f()};return(C,a)=>(r(),i("div",Be,[e("section",Ue,[a[12]||(a[12]=e("div",{class:"section-header"},[e("div",{class:"section-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),e("div",ze,[e("div",Ne,[a[7]||(a[7]=e("label",null,[w(" é¡µé¢ ID (è‹±æ–‡æ ‡è¯†) "),e("span",{class:"required"},"*")],-1)),L(e("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>s.page_id=n),type:"text",class:P(["form-input",{error:u.errors.page_id}]),placeholder:"ä¾‹å¦‚: home_page, user_profile",onInput:f},null,34),[[O,s.page_id]]),e("span",{class:P(["field-hint",{error:u.errors.page_id}])},M(u.errors.page_id||"æ ¼å¼: snake_case æˆ– dot.notation"),3)]),e("div",Ee,[a[8]||(a[8]=e("label",null,[w(" é¡µé¢åç§° (ä¸­æ–‡) "),e("span",{class:"required"},"*")],-1)),L(e("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>s.name["zh-CN"]=n),type:"text",class:P(["form-input",{error:u.errors.name_zh}]),placeholder:"ä¾‹å¦‚: é¦–é¡µã€ç”¨æˆ·ä¸­å¿ƒ",onInput:f},null,34),[[O,s.name["zh-CN"]]]),u.errors.name_zh?(r(),i("span",De,M(u.errors.name_zh),1)):x("",!0)]),e("div",Se,[a[9]||(a[9]=e("label",null,[w(" Page Name (EN) "),e("span",{class:"required"},"*")],-1)),L(e("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>s.name.en=n),type:"text",class:P(["form-input",{error:u.errors.name_en}]),placeholder:"e.g. Home Page, User Profile",onInput:f},null,34),[[O,s.name.en]]),u.errors.name_en?(r(),i("span",Le,M(u.errors.name_en),1)):x("",!0)]),e("div",Oe,[a[10]||(a[10]=e("label",null,"é¡µé¢æè¿° (ä¸­æ–‡)",-1)),L(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=n=>s.description["zh-CN"]=n),class:"form-textarea",rows:"3",placeholder:"æè¿°æ­¤é¡µé¢çš„åŠŸèƒ½å’Œç”¨æˆ·å¯æ‰§è¡Œçš„æ“ä½œ...",onInput:f},null,544),[[O,s.description["zh-CN"]]])]),e("div",Re,[a[11]||(a[11]=e("label",null,"Page Description (EN)",-1)),L(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=n=>s.description.en=n),class:"form-textarea",rows:"3",placeholder:"Describe the page features and available user actions...",onInput:f},null,544),[[O,s.description.en]])])])]),e("section",je,[a[19]||(a[19]=q('<div class="section-header" data-v-70f282f7><div class="section-icon accent" data-v-70f282f7><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-70f282f7><rect x="3" y="3" width="7" height="7" data-v-70f282f7></rect><rect x="14" y="3" width="7" height="7" data-v-70f282f7></rect><rect x="14" y="14" width="7" height="7" data-v-70f282f7></rect><rect x="3" y="14" width="7" height="7" data-v-70f282f7></rect></svg></div><h3 data-v-70f282f7>é¡µé¢èƒ½åŠ›</h3></div>',1)),e("div",Pe,[a[15]||(a[15]=e("label",null,[w(" å¯ç‚¹å‡»æŒ‰é’® "),e("span",{class:"required"},"*")],-1)),e("div",Te,[(r(!0),i(j,null,H(s.button_list,(n,d)=>(r(),i("div",{key:d,class:"list-item"},[L(e("input",{"onUpdate:modelValue":l=>s.button_list[d]=l,type:"text",class:"form-input",placeholder:"æŒ‰é’® ID (snake_case)",onInput:f},null,40,He),[[O,s.button_list[d]]]),s.button_list.length>1?(r(),i("button",{key:0,class:"remove-btn",onClick:l=>A(d),type:"button"},[...a[13]||(a[13]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)])],8,qe)):x("",!0)]))),128)),e("button",{class:"add-btn",onClick:y,type:"button"},[...a[14]||(a[14]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8v8M8 12h8"})],-1),w(" æ·»åŠ æŒ‰é’® ",-1)])])]),u.errors.button_list?(r(),i("span",Fe,M(u.errors.button_list),1)):x("",!0)]),e("div",Je,[a[18]||(a[18]=e("label",null,"å¯é€‰æ“ä½œ",-1)),e("div",Ge,[(r(!0),i(j,null,H(s.optional_actions,(n,d)=>(r(),i("div",{key:d,class:"list-item"},[L(e("input",{"onUpdate:modelValue":l=>s.optional_actions[d]=l,type:"text",class:"form-input",placeholder:"æ“ä½œ ID",onInput:f},null,40,Ke),[[O,s.optional_actions[d]]]),e("button",{class:"remove-btn",onClick:l=>I(d),type:"button"},[...a[16]||(a[16]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)])],8,We)]))),128)),e("button",{class:"add-btn",onClick:b,type:"button"},[...a[17]||(a[17]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 8v8M8 12h8"})],-1),w(" æ·»åŠ æ“ä½œ ",-1)])])])])]),e("section",Qe,[a[22]||(a[22]=e("div",{class:"section-header"},[e("div",{class:"section-icon success"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"})])]),e("h3",null,"AI ä¸Šä¸‹æ–‡")],-1)),e("div",Ye,[e("div",Ze,[a[20]||(a[20]=e("label",null,"è¡Œä¸ºè§„åˆ™",-1)),L(e("textarea",{"onUpdate:modelValue":a[5]||(a[5]=n=>s.ai_context.behavior_rules=n),class:"form-textarea",rows:"3",placeholder:"å®šä¹‰ AI åœ¨æ­¤é¡µé¢çš„è¡Œä¸ºè§„åˆ™...",onInput:f},null,544),[[O,s.ai_context.behavior_rules]])]),e("div",Xe,[a[21]||(a[21]=e("label",null,"é¡µé¢ç›®æ ‡",-1)),L(e("textarea",{"onUpdate:modelValue":a[6]||(a[6]=n=>s.ai_context.page_goal=n),class:"form-textarea",rows:"2",placeholder:"å®šä¹‰ AI åº”è¯¥å¸®åŠ©ç”¨æˆ·è¾¾æˆçš„ç›®æ ‡...",onInput:f},null,544),[[O,s.ai_context.page_goal]])])])])]))}},tt=Q(et,[["__scopeId","data-v-70f282f7"]]),st={class:"clarify-panel"},at={class:"panel-header"},ot={key:0,class:"message assistant"},nt={class:"bubble-wrapper"},lt={key:0,class:"avatar small"},it={class:"bubble"},rt=["src","onClick"],dt=["innerHTML"],ct={key:1,class:"streaming-cursor"},ut={class:"timestamp"},vt={key:1,class:"message assistant"},pt={class:"bubble-wrapper"},gt={class:"bubble"},ft={class:"streaming-output"},mt={key:1,class:"parsing-message"},ht={key:2,class:"message assistant"},_t={key:3,class:"message assistant"},bt={class:"bubble-wrapper"},yt={class:"bubble config-preview"},kt={class:"config-summary"},wt={key:0,class:"config-item"},Ct={key:1,class:"config-item"},xt={class:"tag-list"},$t={key:2,class:"config-item"},At={class:"tag-list"},Mt={key:4,class:"message assistant"},It={class:"bubble-wrapper"},Vt={class:"bubble"},Bt={key:0,class:"quick-options"},Ut=["onClick"],zt={key:0,class:"pending-image"},Nt=["src"],Et={class:"input-area"},Dt={class:"input-wrapper"},St=["disabled"],Lt=["disabled"],Ot=["disabled"],Rt={__name:"ClarifyPanel",props:{sessionId:String,parseResult:Object,status:String,currentConfig:Object,imageUrl:String,streamingContent:String},emits:["config-updated","config-confirmed","completed"],setup(u,{emit:B}){const c=u,m=B,s=h([]),g=h(null),f=h(""),y=h(!1),A=h(null),b=h(null),I=h(null),C=h(null),a=h(!1),n=h(null),d=h(!1),l=W(()=>({pending:"ç­‰å¾…ä¸­",parsing:"åˆ†æä¸­...",clarifying:"å¯¹è¯ä¸­",completed:"å·²å®Œæˆ",failed:"å¤±è´¥"})[c.status]||"");K(()=>c.parseResult,v=>{var t;v&&c.status==="completed"&&!d.value&&(n.value=v,a.value=!0,U()),((t=v==null?void 0:v.clarification_questions)==null?void 0:t.length)>0?g.value=v.clarification_questions[0]:g.value=null},{immediate:!0}),K(()=>c.status,(v,t)=>{var o;v==="parsing"&&t!=="parsing"&&(s.value.push({role:"assistant",content:"æ­£åœ¨åˆ†æé¡µé¢æˆªå›¾ï¼Œè¯·ç¨å€™...",timestamp:new Date}),d.value=!1,a.value=!1,U()),v==="clarifying"&&c.parseResult&&(s.value.push({role:"assistant",content:"æˆ‘å·²å®Œæˆåˆæ­¥åˆ†æï¼Œè¿˜æœ‰ä¸€äº›é—®é¢˜éœ€è¦ç¡®è®¤ï¼š",timestamp:new Date}),((o=c.parseResult.clarification_questions)==null?void 0:o.length)>0&&(g.value=c.parseResult.clarification_questions[0]),U())}),K(()=>c.streamingContent,()=>{c.streamingContent&&U()});const z=()=>{n.value&&(m("config-confirmed",n.value),d.value=!0,a.value=!1,s.value.push({role:"user",content:"ç¡®è®¤åº”ç”¨æ­¤é…ç½®",timestamp:new Date}),U())},N=()=>{a.value=!1,s.value.push({role:"user",content:"éœ€è¦é‡æ–°è¯†åˆ«",timestamp:new Date}),s.value.push({role:"assistant",content:"å¥½çš„ï¼Œè¯·é‡æ–°ä¸Šä¼ å›¾ç‰‡æˆ–æè¿°æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä¼šé‡æ–°åˆ†æã€‚",timestamp:new Date}),U()},T=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),F())},$=v=>{b.value=v;const t=new FileReader;return t.onload=o=>{I.value=o.target.result},t.readAsDataURL(v),!1},E=v=>{var o;const t=(o=v.target.files)==null?void 0:o[0];if(t){if(!["image/png","image/jpeg","image/jpg"].includes(t.type))return;$(t)}v.target.value=""},R=()=>{b.value=null,I.value=null},Y=v=>{C.value=v},F=async()=>{var o,k;if(!f.value.trim()&&!b.value||y.value)return;const v=f.value.trim(),t=I.value;f.value="",R(),s.value.push({role:"user",content:v||"(ä¸Šä¼ äº†å›¾ç‰‡)",image:t,timestamp:new Date}),U(),y.value=!0;try{if(c.sessionId&&(c.status==="clarifying"||c.status==="completed")){let _="";const p=s.value.length;s.value.push({role:"assistant",content:"",timestamp:new Date,isStreaming:!0});const D=fe.chatStream(c.sessionId,v,c.currentConfig,S=>{S.type==="content"&&(_+=S.content,s.value[p].content=_,U())},S=>{s.value[p].isStreaming=!1,s.value[p].content=_||"å¥½çš„ï¼Œæˆ‘å·²æ ¹æ®æ‚¨çš„å»ºè®®æ›´æ–°äº†é…ç½®ã€‚",S&&(n.value=S,a.value=!0,d.value=!1),y.value=!1,U()},S=>{s.value[p].isStreaming=!1,s.value[p].content=`âŒ ${S||"è¯·æ±‚å¤±è´¥ï¼Œè¯·é‡è¯•"}`,y.value=!1,U()});window._currentChatStream=D}else s.value.push({role:"assistant",content:'è¯·å…ˆä¸Šä¼ é¡µé¢æˆªå›¾å¹¶ç‚¹å‡»"AI è¾…åŠ©å¡«å†™"ï¼Œæˆ‘ä¼šå¸®æ‚¨è¯†åˆ«é¡µé¢å…ƒç´ ã€‚',timestamp:new Date}),y.value=!1}catch(_){s.value.push({role:"assistant",content:`âŒ ${((k=(o=_.response)==null?void 0:o.data)==null?void 0:k.message)||"è¯·æ±‚å¤±è´¥ï¼Œè¯·é‡è¯•"}`,timestamp:new Date}),y.value=!1}finally{U()}},Z=v=>{f.value=v,F()},U=()=>{ue(()=>{A.value&&(A.value.scrollTop=A.value.scrollHeight)})},X=v=>v?v.replace(/\n/g,"<br>"):"",ee=v=>new Date(v).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(v,t)=>{var k,_;const o=ce("a-image");return r(),i("div",st,[e("div",at,[t[2]||(t[2]=q('<div class="assistant-info" data-v-d146ecc4><div class="avatar" data-v-d146ecc4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-d146ecc4><path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z" data-v-d146ecc4></path></svg></div><span class="name" data-v-d146ecc4>AI åŠ©æ‰‹</span></div>',1)),u.status?(r(),i("span",{key:0,class:P(["status-badge",u.status])},[t[1]||(t[1]=e("span",{class:"status-dot"},null,-1)),w(" "+M(l.value),1)],2)):x("",!0)]),e("div",{class:"chat-container",ref_key:"chatContainer",ref:A},[s.value.length===0&&!u.status?(r(),i("div",ot,[...t[3]||(t[3]=[q('<div class="bubble" data-v-d146ecc4><div class="welcome-content" data-v-d146ecc4><div class="welcome-icon" data-v-d146ecc4>ğŸ‘‹</div><div class="welcome-text" data-v-d146ecc4><p data-v-d146ecc4>ä½ å¥½ï¼ä¸Šä¼ é¡µé¢æˆªå›¾å¹¶ç‚¹å‡»&quot;AI è¾…åŠ©å¡«å†™&quot;ï¼Œæˆ‘å°†å¸®åŠ©æ‚¨è‡ªåŠ¨è¯†åˆ«é¡µé¢å…ƒç´ ã€‚</p><p class="sub" data-v-d146ecc4>æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä¸‹æ–¹è¾“å…¥æ¡†æè¿°æ‚¨æƒ³è¦é…ç½®çš„é¡µé¢åŠŸèƒ½ã€‚</p></div></div></div>',1)])])):x("",!0),(r(!0),i(j,null,H(s.value,(p,D)=>(r(),i("div",{key:D,class:P(["message",p.role])},[e("div",nt,[p.role==="assistant"?(r(),i("div",lt,[...t[4]||(t[4]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"})],-1)])])):x("",!0),e("div",it,[p.image?(r(),i("img",{key:0,src:p.image,class:"chat-image",onClick:S=>Y(p.image)},null,8,rt)):x("",!0),e("span",{innerHTML:X(p.content)},null,8,dt),p.isStreaming?(r(),i("span",ct,"â–Š")):x("",!0)])]),e("span",ut,M(ee(p.timestamp)),1)],2))),128)),u.status==="parsing"?(r(),i("div",vt,[e("div",pt,[t[7]||(t[7]=e("div",{class:"avatar small"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"})])],-1)),e("div",gt,[u.streamingContent?(r(),i(j,{key:0},[e("pre",ft,M(u.streamingContent),1),t[5]||(t[5]=e("span",{class:"streaming-cursor"},"â–Š",-1))],64)):(r(),i("div",mt,[...t[6]||(t[6]=[e("span",{class:"parsing-icon"},"ğŸ”",-1),w(" æ­£åœ¨åˆ†æé¡µé¢æˆªå›¾ï¼Œè¯†åˆ«å¯äº¤äº’å…ƒç´ ... ",-1)])]))])])])):x("",!0),y.value?(r(),i("div",ht,[...t[8]||(t[8]=[q('<div class="bubble-wrapper" data-v-d146ecc4><div class="avatar small" data-v-d146ecc4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-d146ecc4><path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z" data-v-d146ecc4></path></svg></div><div class="bubble loading" data-v-d146ecc4><span class="dot" data-v-d146ecc4></span><span class="dot" data-v-d146ecc4></span><span class="dot" data-v-d146ecc4></span></div></div>',1)])])):x("",!0),a.value&&n.value?(r(),i("div",_t,[e("div",bt,[t[14]||(t[14]=e("div",{class:"avatar small"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"})])],-1)),e("div",yt,[t[13]||(t[13]=e("div",{class:"preview-header"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20 6L9 17l-5-5"})]),w(" è§£æå®Œæˆï¼ä»¥ä¸‹æ˜¯è¯†åˆ«åˆ°çš„é…ç½®ä¿¡æ¯ï¼š ")],-1)),e("div",kt,[n.value.page_name?(r(),i("div",wt,[t[9]||(t[9]=e("label",null,"é¡µé¢åç§°ï¼š",-1)),e("span",null,M(n.value.page_name["zh-CN"]||""),1)])):x("",!0),(k=n.value.button_list)!=null&&k.length?(r(),i("div",Ct,[e("label",null,"è¯†åˆ«åˆ°çš„æŒ‰é’® ("+M(n.value.button_list.length)+"ä¸ª)ï¼š",1),e("div",xt,[(r(!0),i(j,null,H(n.value.button_list,p=>(r(),i("span",{key:p,class:"config-tag"},M(p),1))),128))])])):x("",!0),(_=n.value.optional_actions)!=null&&_.length?(r(),i("div",$t,[t[10]||(t[10]=e("label",null,"å¯é€‰æ“ä½œï¼š",-1)),e("div",At,[(r(!0),i(j,null,H(n.value.optional_actions,p=>(r(),i("span",{key:p,class:"config-tag accent"},M(p),1))),128))])])):x("",!0)]),e("div",{class:"preview-actions"},[e("button",{class:"action-btn secondary",onClick:N},[...t[11]||(t[11]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"})],-1),w(" é‡æ–°è¯†åˆ« ",-1)])]),e("button",{class:"action-btn primary",onClick:z},[...t[12]||(t[12]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20 6L9 17l-5-5"})],-1),w(" ç¡®è®¤åº”ç”¨ ",-1)])])])])])])):x("",!0),g.value&&u.status==="clarifying"?(r(),i("div",Mt,[e("div",It,[t[15]||(t[15]=e("div",{class:"avatar small"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"})])],-1)),e("div",Vt,M(g.value.question_text||g.value),1)]),g.value.options?(r(),i("div",Bt,[(r(!0),i(j,null,H(g.value.options,p=>(r(),i("button",{key:p,class:"option-btn",onClick:D=>Z(p)},M(p),9,Ut))),128))])):x("",!0)])):x("",!0)],512),J(o,{width:200,style:{display:"none"},preview:{visible:!!C.value,onVisibleChange:p=>{p||(C.value=null)},src:C.value}},null,8,["preview"]),b.value?(r(),i("div",zt,[e("img",{src:I.value},null,8,Nt),e("button",{class:"remove-btn",onClick:R},[...t[16]||(t[16]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])])):x("",!0),e("div",Et,[e("div",Dt,[e("label",{class:P(["upload-btn",{disabled:y.value}])},[e("input",{type:"file",accept:"image/png,image/jpeg,.png,.jpg,.jpeg",onChange:E,disabled:y.value},null,40,St),t[17]||(t[17]=e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e("polyline",{points:"17 8 12 3 7 8"}),e("line",{x1:"12",y1:"3",x2:"12",y2:"15"})],-1))],2),L(e("textarea",{ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=p=>f.value=p),placeholder:"è¾“å…¥ä¿®æ”¹å»ºè®®æˆ–é—®é¢˜...",disabled:y.value,onKeydown:T,rows:"1"},null,40,Lt),[[O,f.value]]),e("button",{class:"send-btn",disabled:!f.value.trim()&&!b.value||y.value,onClick:F},[...t[18]||(t[18]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})],-1)])],8,Ot)]),t[19]||(t[19]=e("div",{class:"input-hint"}," Enter å‘é€ Â· Shift+Enter æ¢è¡Œ ",-1))])])}}},jt=Q(Rt,[["__scopeId","data-v-d146ecc4"]]),Pt={class:"page-editor"},Tt={class:"editor-header"},Ht={class:"header-left"},qt={class:"header-title"},Ft={class:"title-icon"},Jt={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Gt={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Kt={class:"header-actions"},Wt={key:0,class:"unsaved-badge"},Qt=["disabled"],Yt={key:0,class:"btn-spinner"},Zt={class:"editor-body"},Xt={class:"editor-grid"},es={class:"panel panel-left"},ts={class:"panel-card"},ss={class:"card-body"},as=["disabled"],os={key:0,class:"btn-spinner"},ns={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ls={class:"panel-card"},is={class:"card-body"},rs={class:"json-preview-container"},ds={class:"panel panel-center"},cs={class:"panel-card config-card"},us={class:"card-body"},vs={class:"panel panel-right"},ps={class:"panel-card ai-card"},gs={class:"card-body"},fs={__name:"PageEditor",setup(u){const B=ve(),c=pe(),m=me(),s=W(()=>B.name==="PageCreate"),g=h(""),f=h(""),y=h(null),A=h(""),b=h(!1),I=h(!1),C=h(!1),a=h(null),n=h({}),d=h(""),l=W(()=>{const t=m.draftConfig,o={pages:{[t.page_id||"unnamed"]:{name:t.name,description:t.description,buttonList:t.button_list,optionalActions:t.optional_actions}}};return JSON.stringify(o,null,2)});le(async()=>{if(m.resetConfig(),!s.value&&B.params.id)try{const t=await G.get(B.params.id);m.setOriginalConfig({page_id:t.page_id,name:t.name,description:t.description,button_list:t.button_list||[],optional_actions:t.optional_actions||[],ai_context:t.ai_context||{behavior_rules:"",page_goal:""}}),g.value=t.screenshot_url||""}catch(t){console.error("Failed to load page:",t),V.error("åŠ è½½é¡µé¢å¤±è´¥"),c.push("/")}});const z=t=>{g.value=t.file_url,V.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ")},N=t=>{V.error(t.message||"ä¸Šä¼ å¤±è´¥")},T=async()=>{var t,o;if(!g.value){V.warning("è¯·å…ˆä¸Šä¼ é¡µé¢æˆªå›¾");return}b.value=!0,C.value=!0,A.value="parsing",d.value="";try{const k=G.parseStream(g.value,_=>{_.type==="content"&&(d.value+=_.content)},_=>{b.value=!1,A.value="completed",y.value=_,d.value="",V.success("AI è§£æå®Œæˆ")},_=>{b.value=!1,A.value="failed",d.value="",V.error(_||"è§£æå¤±è´¥")});window._currentParseStream=k}catch(k){b.value=!1,A.value="failed",V.error(((o=(t=k.response)==null?void 0:t.data)==null?void 0:o.message)||"è§£æå¤±è´¥")}},$=t=>{const{conflict:o}=m.tryApplyAiUpdate(t);o?(a.value=t,ne.confirm({title:"é…ç½®å†²çª",icon:J(ge),content:"AI å·²æ›´æ–°é…ç½®ï¼Œä½†æ‚¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹ã€‚æ˜¯å¦åº”ç”¨ AI æ›´æ–°ï¼Ÿ",okText:"åº”ç”¨ AI æ›´æ–°",cancelText:"ä¿ç•™æˆ‘çš„ä¿®æ”¹",onOk(){m.forceApplyAiUpdate(a.value),V.success("å·²åº”ç”¨ AI æ›´æ–°")},onCancel(){m.keepUserEdit()}})):V.success("AI è§£æå®Œæˆï¼Œé…ç½®å·²å¡«å……")},E=t=>{y.value=t},R=t=>{$(t),V.success("é…ç½®å·²åº”ç”¨åˆ°è¡¨å•")},Y=()=>{b.value=!1},F=t=>{m.applyUserEdit(t)},Z=()=>{ne.confirm({title:"ç¡®è®¤é‡ç½®",content:"ç¡®å®šè¦é‡ç½®æ‰€æœ‰é…ç½®å—ï¼Ÿæ­¤æ“ä½œå°†æ¸…ç©ºå½“å‰æ‰€æœ‰æœªä¿å­˜çš„å†…å®¹ã€‚",onOk(){g.value="",C.value=!1,f.value="",y.value=null,A.value="",b.value=!1,m.resetConfig(),V.success("é…ç½®å·²é‡ç½®")}})},U=()=>{var _,p,D,S,ae,oe;const t={},o=m.draftConfig;return(_=o.page_id)!=null&&_.trim()?/^[a-zA-Z0-9_\.]+$/.test(o.page_id)||(t.page_id="åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œç‚¹"):t.page_id="é¡µé¢ ID ä¸ºå¿…å¡«é¡¹",(D=(p=o.name)==null?void 0:p["zh-CN"])!=null&&D.trim()||(t.name_zh="ä¸­æ–‡åç§°ä¸ºå¿…å¡«é¡¹"),(ae=(S=o.name)==null?void 0:S.en)!=null&&ae.trim()||(t.name_en="è‹±æ–‡åç§°ä¸ºå¿…å¡«é¡¹"),(((oe=o.button_list)==null?void 0:oe.filter(ie=>ie.trim()))||[]).length===0&&(t.button_list="è‡³å°‘ä¿ç•™ä¸€ä¸ªæŒ‰é’®é…ç½®"),t},X=async()=>{var o,k;const t=U();if(Object.keys(t).length>0){n.value=t,V.error("è¯·æ£€æŸ¥è¡¨å•é”™è¯¯");return}I.value=!0;try{const _=m.draftConfig,p={page_id:_.page_id,name:_.name,description:_.description,button_list:_.button_list.filter(D=>D.trim()),optional_actions:_.optional_actions.filter(D=>D.trim()),ai_context:_.ai_context,screenshot_url:g.value};s.value?await G.create(p):await G.update(B.params.id,p),V.success("ä¿å­˜æˆåŠŸ"),m.isDirty=!1,s.value&&c.push(`/page/${_.page_id}`)}catch(_){V.error(((k=(o=_.response)==null?void 0:o.data)==null?void 0:k.message)||"ä¿å­˜å¤±è´¥")}finally{I.value=!1}},ee=async()=>{try{await navigator.clipboard.writeText(l.value),V.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch{V.error("å¤åˆ¶å¤±è´¥")}},v=()=>{const t=new Blob([l.value],{type:"application/json"}),o=URL.createObjectURL(t),k=document.createElement("a");k.href=o,k.download=`${m.draftConfig.page_id||"config"}_${Date.now()}.json`,k.click(),URL.revokeObjectURL(o)};return K(()=>B.path,()=>{}),(t,o)=>(r(),i("div",Pt,[e("header",Tt,[e("div",Ht,[e("button",{class:"back-btn",onClick:o[0]||(o[0]=k=>t.$router.push("/"))},[...o[2]||(o[2]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),w(" è¿”å›åˆ—è¡¨ ",-1)])]),o[5]||(o[5]=e("div",{class:"header-divider"},null,-1)),e("div",qt,[e("span",Ft,[s.value?(r(),i("svg",Jt,[...o[3]||(o[3]=[e("path",{d:"M12 4v16m-8-8h16"},null,-1)])])):(r(),i("svg",Gt,[...o[4]||(o[4]=[e("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"},null,-1),e("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1)])]))]),w(" "+M(s.value?"æ·»åŠ é¡µé¢é…ç½®":"ç¼–è¾‘é¡µé¢é…ç½®"),1)])]),e("div",Kt,[se(m).isDirty?(r(),i("span",Wt,[...o[6]||(o[6]=[e("span",{class:"dot"},null,-1),w(" æœªä¿å­˜ ",-1)])])):x("",!0),e("button",{class:"action-btn secondary",onClick:Z}," é‡ç½® "),e("button",{class:"action-btn primary",onClick:X,disabled:I.value},[I.value?(r(),i("span",Yt)):x("",!0),o[7]||(o[7]=w(" ä¿å­˜é…ç½® ",-1))],8,Qt)])]),e("div",Zt,[e("div",Xt,[e("aside",es,[e("div",ts,[o[9]||(o[9]=q('<div class="card-header" data-v-62be4170><h3 data-v-62be4170><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-62be4170><rect x="3" y="3" width="18" height="18" rx="2" data-v-62be4170></rect><circle cx="8.5" cy="8.5" r="1.5" data-v-62be4170></circle><path d="M21 15l-5-5L5 21" data-v-62be4170></path></svg> é¡µé¢æˆªå›¾ </h3></div>',1)),e("div",ss,[J(Ve,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=k=>g.value=k),disabled:b.value,onUploadSuccess:z,onUploadError:N},null,8,["modelValue","disabled"]),e("button",{class:"ai-parse-btn",onClick:T,disabled:!g.value||b.value},[b.value?(r(),i("span",os)):(r(),i("svg",ns,[...o[8]||(o[8]=[e("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 110 2h-1.07A7 7 0 0113 23a7 7 0 01-7.07-7H5a1 1 0 110-2h1a7 7 0 017-7h1V5.73A2 2 0 0112 2z"},null,-1)])])),w(" "+M(b.value?"æ­£åœ¨åˆ†æ...":"AI è¾…åŠ©å¡«å†™"),1)],8,as)])]),e("div",ls,[e("div",{class:"card-header"},[o[12]||(o[12]=e("h3",null,[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"})]),w(" JSON é¢„è§ˆ ")],-1)),e("div",{class:"card-actions"},[e("button",{class:"icon-btn",onClick:ee,title:"å¤åˆ¶"},[...o[10]||(o[10]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),e("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})],-1)])]),e("button",{class:"icon-btn",onClick:v,title:"ä¸‹è½½"},[...o[11]||(o[11]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)])])])]),e("div",is,[e("div",rs,[e("pre",null,[e("code",null,M(l.value),1)])])])])]),e("main",ds,[e("div",cs,[o[13]||(o[13]=e("div",{class:"card-header"},[e("h3",null,[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),w(" é…ç½®è¯¦æƒ… ")])],-1)),e("div",us,[J(tt,{config:se(m).draftConfig,"session-id":f.value,errors:n.value,onConfigChanged:F},null,8,["config","session-id","errors"])])])]),e("aside",vs,[e("div",ps,[o[14]||(o[14]=e("div",{class:"card-header"},[e("h3",null,[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),w(" AI åŠ©æ‰‹ ")])],-1)),e("div",gs,[J(jt,{"session-id":f.value,"parse-result":y.value,status:A.value,"current-config":se(m).draftConfig,"image-url":g.value,"streaming-content":d.value,onConfigUpdated:E,onConfigConfirmed:R,onCompleted:Y},null,8,["session-id","parse-result","status","current-config","image-url","streaming-content"])])])])])])]))}},_s=Q(fs,[["__scopeId","data-v-62be4170"]]);export{_s as default};
